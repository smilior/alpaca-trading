# なぜなぜ分析（5 Whys）リファレンス

## 概要

トヨタ生産方式で確立された根本原因分析手法。問題に対して「なぜ？」を繰り返し、表面的な原因ではなく根本原因にたどり着く。

**なぜ5回か**: 経験的に、5回「なぜ？」を繰り返すと、対処可能な根本原因にたどり着くことが多い。3回以下だと表面的、6回以上だと抽象的になりすぎる。

## 正しいやり方

### 基本ルール

1. **事実に基づく**: 推測ではなくデータ・観察に基づいて「なぜ」に答える
2. **因果関係の飛躍を防ぐ**: 各ステップ間の論理的つながりを確認する
3. **複数の原因を考慮する**: 1つの「なぜ」に対して複数の答えがありうる（分岐してよい）
4. **対策可能な原因で止める**: 「人間の本質」のような対策不能な原因まで掘り下げない
5. **検証する**: 「逆に読んで」論理が通るか確認する（「〜だから〜になった」）

### 因果関係の飛躍チェック

各ステップ間で以下を確認せよ：

```
❌ 因果関係の飛躍:
なぜ損失が出た？→ AIが悪いから
（「AI」と「損失」の間の具体的メカニズムが不明）

✅ 因果関係が明確:
なぜ損失が出た？→ 株価が急落したポジションを保有していたから
なぜそのポジションを保有していた？→ ストップロスが設定されていなかったから
```

**逆読みテスト**: 「ストップロスが未設定だった → 急落時にポジションを保有し続けた → 損失が出た」→ 論理的に通る ✅

## トレーディングの文脈での具体例

### 例1: なぜAIでトレードするのか？

```
Q1: なぜAIでトレードするのか？
A1: 人間のトレーディングでは感情バイアスにより
    一貫した判断ができないから

Q2: なぜ感情バイアスが問題なのか？
A2: 損失回避バイアスにより、損切りが遅れ（平均2.3倍遅い）、
    利益確定が早すぎる（Prospect Theory）ため、
    期待値がマイナスになるから

Q3: なぜ期待値がマイナスになると問題なのか？
A3: 長期的に取引を繰り返すと、
    大数の法則により期待値に収束し、
    確実に資産が減少するから

Q4: なぜ人間はこのバイアスを克服できないのか？
A4: 認知バイアスは意識しても完全には除去できず、
    特に大きな含み損・含み益の場面で強く発動するから

Q5: なぜAIならこの問題を解決できるのか？
A5: ルールベースの判断は感情に影響されず、
    さらにLLMはニュース等の定性情報も
    一貫した基準で評価できるから

→ 根本原因: 人間の認知バイアスは訓練で除去困難
→ 対策: 判断プロセスを自動化（AI化）し、人間は戦略設計に集中
```

### 例2: なぜ先月のバックテストで損失が出たのか？

```
Q1: なぜ先月のバックテストで損失が出た？
A1: ショートポジションが大きな損失を出したから

Q2: なぜショートポジションが損失を出した？
A2: テック株の急騰に巻き込まれたから

Q3: なぜテック株の急騰を予測できなかった？
A3: FRBの利下げ示唆というマクロイベントを
    シグナルに組み込んでいなかったから

Q4: なぜマクロイベントを組み込んでいなかった？
A4: テクニカル指標のみに依存した戦略設計だったから

Q5: なぜテクニカル指標のみにしていた？
A5: マクロ指標の組み込み方を設計していなかったから
    （実装の優先順位が低かった）

→ 根本原因: 戦略設計時にマクロ要因の影響を考慮していなかった
→ 対策:
  1. FRB発言・経済指標をシグナルに追加
  2. マクロイベントカレンダーに基づくポジション調整ルール
  3. イベント前にはショートポジション縮小ルール
```

## よくある間違い

### 間違い1: 「なぜ」を人のせいにする

```
❌ Q: なぜバグが出た？ A: 開発者が注意不足だったから
✅ Q: なぜバグが出た？ A: ユニットテストがこのケースをカバーしていなかったから
```

### 間違い2: 途中で分岐を無視する

```
Q: なぜ大きな損失が出た？

分岐A: ポジションサイズが大きすぎた
分岐B: ストップロスが遠すぎた
分岐C: ボラティリティが急上昇した

→ 全分岐を追跡し、最も影響の大きい原因から対策する
```

### 間違い3: 対策不能な原因で止める

```
❌ 「市場は予測不能だから」→ 対策できない
✅ 「ボラティリティ急上昇時のポジション縮小ルールがなかったから」→ 対策可能
```

## テンプレート

```markdown
## なぜなぜ分析

**問題**: [具体的な問題を記述]
**発生日時**: [いつ発生したか]
**影響**: [どの程度の影響があったか]

### 分析

| レベル | なぜ？ | 回答 | 根拠（データ） |
|--------|--------|------|----------------|
| Why 1  |        |      |                |
| Why 2  |        |      |                |
| Why 3  |        |      |                |
| Why 4  |        |      |                |
| Why 5  |        |      |                |

### 逆読みテスト
[Why 5] → [Why 4] → [Why 3] → [Why 2] → [Why 1] → [問題]
論理的に通るか？ ✅ / ❌

### 根本原因
[特定された根本原因]

### 対策
| 対策 | 優先度 | 担当 | 期限 |
|------|--------|------|------|
|      |        |      |      |
```
